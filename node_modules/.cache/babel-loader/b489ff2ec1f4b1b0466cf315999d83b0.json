{"ast":null,"code":"import _classCallCheck from\"/Users/la40020503/Desktop/SheCodes/weather-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/la40020503/Desktop/SheCodes/weather-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/la40020503/Desktop/SheCodes/weather-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/la40020503/Desktop/SheCodes/weather-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import axios from\"axios\";import\"./Weather.css\";import WeatherIcon from\"./WeatherIcon\";import CurrentLocation from\"./CurrentLocation\";import Search from\"./Search\";import DateUtil from\"./DateUtil\";import Api from\"./Api\";import Forecast from\"./Forecast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Weather=/*#__PURE__*/function(_Component){_inherits(Weather,_Component);var _super=_createSuper(Weather);function Weather(){var _this;_classCallCheck(this,Weather);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={city:_this.props.city};_this.refreshWeatherFromLatitudeAndLongitude=function(latitude,longitude){_this.refreshWeatherFromParams(\"lat=\".concat(latitude,\"&lon=\").concat(longitude));};_this.refresh=function(city){_this.refreshWeatherFromParams(\"q=\".concat(city));};return _this;}_createClass(Weather,[{key:\"componentWillMount\",value:function componentWillMount(){this.refresh(this.state.city);}},{key:\"refreshWeatherFromParams\",value:function refreshWeatherFromParams(params){var _this2=this;var url=\"\".concat(Api.url,\"/data/2.5/weather?appid=\").concat(Api.key,\"&units=metric&\").concat(params);axios.get(url).then(function(response){_this2.setState({city:response.data.name,weather:{description:response.data.weather[0].main,icon:response.data.weather[0].icon,precipitation:Math.round(response.data.main.humidity)+\"%\",temperature:Math.round(response.data.main.temp),time:new DateUtil(new Date(response.data.dt*1000)).dayTime(),wind:Math.round(response.data.wind.speed)+\"km/h\"}});});}},{key:\"render\",value:function render(){if(this.state.weather){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"clearfix\",children:[/*#__PURE__*/_jsx(Search,{refresh:this.refresh}),/*#__PURE__*/_jsx(CurrentLocation,{refresh:this.refreshWeatherFromLatitudeAndLongitude})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-summary-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:this.state.city}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-detail__text\",children:this.state.weather.time}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-detail__text\",children:this.state.weather.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"clearfix\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"float-left weather-icon\",children:/*#__PURE__*/_jsx(WeatherIcon,{iconName:this.state.weather.icon})}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-temp weather-temp--today\",children:this.state.weather.temperature}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-unit__text weather-unit__text--today\",children:\"\\xB0C\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-detail__text\",children:[\"Precipitation: \",this.state.weather.precipitation]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-detail__text\",children:[\"Wind: \",this.state.weather.wind]})]})]})]}),/*#__PURE__*/_jsx(Forecast,{city:this.state.city})]});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[\"App is loading, \",/*#__PURE__*/_jsx(\"em\",{children:\"please wait...\"})]});}}}]);return Weather;}(Component);export{Weather as default};","map":{"version":3,"names":["React","Component","axios","WeatherIcon","CurrentLocation","Search","DateUtil","Api","Forecast","Weather","state","city","props","refreshWeatherFromLatitudeAndLongitude","latitude","longitude","refreshWeatherFromParams","refresh","params","url","key","get","then","response","setState","data","name","weather","description","main","icon","precipitation","Math","round","humidity","temperature","temp","time","Date","dt","dayTime","wind","speed"],"sources":["/Users/la40020503/Desktop/SheCodes/weather-react-app/src/Weather.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport \"./Weather.css\";\nimport WeatherIcon from \"./WeatherIcon\";\nimport CurrentLocation from \"./CurrentLocation\";\nimport Search from \"./Search\";\nimport DateUtil from \"./DateUtil\";\nimport Api from \"./Api\";\nimport Forecast from \"./Forecast\";\n\nexport default class Weather extends Component {\n  static propTypes = {\n    city: PropTypes.string.isRequired,\n  };\n\n  state = {\n    city: this.props.city,\n  };\n\n  componentWillMount() {\n    this.refresh(this.state.city);\n  }\n\n  refreshWeatherFromParams(params) {\n    let url = `${Api.url}/data/2.5/weather?appid=${Api.key}&units=metric&${params}`;\n    axios.get(url).then((response) => {\n      this.setState({\n        city: response.data.name,\n        weather: {\n          description: response.data.weather[0].main,\n          icon: response.data.weather[0].icon,\n          precipitation: Math.round(response.data.main.humidity) + \"%\",\n          temperature: Math.round(response.data.main.temp),\n          time: new DateUtil(new Date(response.data.dt * 1000)).dayTime(),\n          wind: Math.round(response.data.wind.speed) + \"km/h\",\n        },\n      });\n    });\n  }\n\n  refreshWeatherFromLatitudeAndLongitude = (latitude, longitude) => {\n    this.refreshWeatherFromParams(`lat=${latitude}&lon=${longitude}`);\n  };\n\n  refresh = (city) => {\n    this.refreshWeatherFromParams(`q=${city}`);\n  };\n\n  render() {\n    if (this.state.weather) {\n      return (\n        <div>\n          <div className=\"clearfix\">\n            <Search refresh={this.refresh} />\n            <CurrentLocation\n              refresh={this.refreshWeatherFromLatitudeAndLongitude}\n            />\n          </div>\n\n          <div className=\"weather-summary\">\n            <div className=\"weather-summary-header\">\n              <h1>{this.state.city}</h1>\n              <div className=\"weather-detail__text\">\n                {this.state.weather.time}\n              </div>\n              <div className=\"weather-detail__text\">\n                {this.state.weather.description}\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-sm-6\">\n                <div className=\"clearfix\">\n                  <div className=\"float-left weather-icon\">\n                    <WeatherIcon iconName={this.state.weather.icon} />\n                  </div>\n                  <div className=\"weather-temp weather-temp--today\">\n                    {this.state.weather.temperature}\n                  </div>\n                  <div className=\"weather-unit__text weather-unit__text--today\">\n                    Â°C\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-sm-6\">\n                <div className=\"weather-detail__text\">\n                  Precipitation: {this.state.weather.precipitation}\n                </div>\n                <div className=\"weather-detail__text\">\n                  Wind: {this.state.weather.wind}\n                </div>\n              </div>\n            </div>\n          </div>\n          <Forecast city={this.state.city} />\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          App is loading, <em>please wait...</em>\n        </div>\n      );\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}